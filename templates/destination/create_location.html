{% extends "base.html" %}
{% load static %}
{% block content %}
  <form action="{% url 'create_location' %}"
        method="post"
        enctype="multipart/form-data">
    {% csrf_token %}
    <div class="mb-3">
      <label for="locationName" class="form-label">Tên điểm đến</label>
      <input type="text"
             class="form-control"
             id="locationName"
             name="locationName"
             placeholder="Nhập tên điểm đến" />
    </div>
    <div class="mb-3">
      <label for="categoryID" class="form-label">Danh mục</label>
      <select class="js-example-basic-single" id="categoryID" name="categoryID">
        <option disabled selected value>-- Chọn danh mục --</option>
        {% for category in categories %}
          <option value={{ category.id }}> {{ category.name }}
          </option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label for="locationDescription" class="form-label">Mô tả</label>
      <textarea class="form-control"
                id="locationDescription"
                name="locationDescription"
                rows="3"
                placeholder="Nhập mô tả điểm đến"></textarea>
    </div>
    <div class="mb-3">
      <label for="locationTags" class="form-label">Tag (Ngăn cách bởi dấu phẩy)</label>
      <input type="text"
             class="form-control"
             id="locationTags"
             name="locationTags"
             placeholder="Nhập tag" />
    </div>
    <div class="mb-3">
      <label for="locationAddress" class="form-label">Địa chỉ</label>
      <input type="text"
             class="form-control"
             id="locationAddress"
             name="locationAddress"
             placeholder="Nhập địa chỉ" />
    </div>
    <div class="mb-3">
      <label for="locationTags" class="form-label">Hình ảnh</label>
      <input name="file"
             id="images"
             type="file"
             multiple="multiple"
             class="form-control"
             placeholder="Tải hình ảnh lên" />
    </div>
    <div class="mb-3">
      <label for="locationTags" class="form-label">Hình ảnh 3D</label>
      <input name="file3D" id="images3D" type="file" multiple="multiple" class="form-control" placeholder="Tải hình ảnh 3D lên"/>
    </div>
    <div class="form-group">
      <div id="image_preview" style="width:100%;">
    <br /><br />
    <div class="text-end">
      <button type="submit" class="btn btn-primary">Thêm</button>
    </div>
  </form>
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <!-- Include Dropzone JS -->
  <script src="{% static 'assets/libs/dropzone/dropzone-min.js' %}"></script>
  <!--jquery cdn-->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
          integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
          crossorigin="anonymous"></script>
  <!--select2 cdn-->
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="{% static "assets/js/pages/select2.init.js" %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  {% if success %}
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        Swal.fire({
          position: 'top-end',
          icon: 'success',
          title: 'Thành công!',
          text: '{{ success }}',
          showConfirmButton: false,
          timer: 1500,
          backdrop: false
        })
      })
    </script>
  {% endif %}
  {% if error %}
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        Swal.fire({
          position: 'top-end',
          icon: 'error',
          title: 'Oops...!',
          text: '{{ error }}',
          showConfirmButton: false,
          timer: 1500,
          backdrop: false
        })
      })
    </script>
  {% endif %}
{% endblock content %}
