{% extends 'base.html' %} {% load static %} {% block content %}
  <div class="row">
    <div class="col-xl-12">
      <div class="card">
        <div class="card-header align-items-center d-flex">
          <h4 class="card-title mb-0 flex-grow-1">Danh sách điểm đến</h4>
        </div>
        <!-- end card header -->

        <div class="card-body">
          <div class="live-preview">
            <div class="table-responsive">
              <table class="table align-middle table-nowrap mb-0">
                <thead>
                  <tr>
                    <th scope="col">Tên</th>
                    <th scope="col">Ảnh</th>
                    <th scope="col">Địa Chỉ</th>
                    <th scope="col">Tag</th>
                    <th scope="col">Ngày Tạo</th>
                    <th scope="col">Lượt Xem</th>
                    <th scope="col">Chi Tiết</th>
                  </tr>
                </thead>
                <tbody>
                  {% for location in page_obj %}
                    <tr>
                      <th scope="row">
                        <a href="#" class="fw-medium">{{ location.name }}</a>
                      </th>
                      <td><img src="{{ location.first_image }}" alt="" border="3" height="100" width="100" /></td>
                      <td>{{ location.address }}</td>
                      <td>{{ location.tags.all|join:', ' }}</td>
                      <td>{{ location.created_at|date:'F d, Y' }}</td>
                      <td>{{ location.views }}</td>
                      <td>
                        <a href="{% url 'detail_location' location.id %}" class="link-success">Chi Tiết <i class="ri-arrow-right-line align-middle"></i></a>
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
            <br />
            <div class="d-flex justify-content-end">
              <div class="pagination-wrap hstack gap-2">
                {% if page_obj.has_previous %}
                  <a class="page-item pagination-prev" href="?page={{ page_obj.previous_page_number }}">Trước</a>
                {% else %}
                  <a class="page-item pagination-prev disabled" href="#">Trước</a>
                {% endif %}

                <ul class="pagination listjs-pagination mb-0">
                  {% for num in page_obj.paginator.page_range %}
                    {% if page_obj.number == num %}
                      <li class="page-item active">
                        <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                      </li>
                    {% else %}
                      <li class="page-item">
                        <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                      </li>
                    {% endif %}
                  {% endfor %}
                </ul>

                {% if page_obj.has_next %}
                  <a class="page-item pagination-next" href="?page={{ page_obj.next_page_number }}">Sau</a>
                {% else %}
                  <a class="page-item pagination-next disabled" href="#">Sau</a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
        <!-- end card-body -->
      </div>
      <!-- end card -->
      <br /><br /><br /><br /><br /><br />
    </div>
    <!-- prismjs plugin -->
  </div>
  <script src="{% static 'assets/libs/prismjs/prism.js' %}"></script>
{% endblock %}
