{% extends 'base.html' %} {% load static %} {% block content %}
<h1>Add a new video</h1>
{% if error %}
<p style="color: red">{{ error }}</p>
{% endif %}
<form action="{% url 'add_video' %}" method="post" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="mb-3">
    <label for="title" class="form-label">Title</label>
    <input type="text" class="form-control" id="title" name="title" placeholder="Enter title" />
  </div>
  <div class="mb-3">
    <label for="upload" class="form-label" >Upload Video</label>
    <input type="file" class="form-control" id="upload" name="upload" />
  </div>
  <div>
    <label for="youtube_url" class="form-label">YouTube URL</label>
    <input type="url" class="form-control" id="youtube_url" name="youtube_url" placeholder="Enter YouTube URL" /><br />
  </div>
  <div class="mb-3">
    <button type="submit" class="btn btn-primary">Submit</button>
  </div>
</form>

<!-- prismjs plugin -->
<script src="{% static 'assets/libs/prismjs/prism.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
{% if success %}
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        Swal.fire({
        position: 'top-end',
        icon: 'success',
        title: 'Thành công!',
        text: '{{ success }}',
        showConfirmButton: false,
        timer: 1500,
        backdrop: false
        })
    })
    </script>
{% endif %}
{% endblock %}
